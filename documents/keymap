VZ200 key matrix as read by the computer.

OK so the key matrix is minimally decoded and address bits 0-7 are used to decode what row we are looking at.
below NC = no key is asigned

CTRL = CTRL
SHIFT = SHIFT
RETRN = RETURN

We don't actually care how the Shift key modifies the PC keyboard, we care about the symbol listed below


So:
                            5    4    3    2    1    0   (Bit of 6 Byte Nibble)
ROW ADDRESS (LSB)   0xFE    R    Q    E    NC   W    T
                    0xFD    F    A    D   CTRL  S    G
                    0xFB    V    Z    C  SHIFT  X    B
                    0xF7    4    1    3    NC   2    5
                    0xEF    M   SPC   ,    NC   .    N
                    0xDF    7    0    8    -    9    6
                    0xBF    U    P    I  RETRN  O    Y
                    0x7F    J    ;    K    :    L    H

The scan codes for a PC keyboard are as such, modifier keycodes are seprate from main keycodes and overlap, they
have to be managed different. The modifier codes are listed below. ; and : are the same key on the PC keyboard
and so : is moved to the (') - apostrophe. key (next to enter).

                            5    4    3    2    1    0   (Bit of 6 Byte Nibble)
ROW ADDRESS (LSB)   0xFE  0x15 0x14 0x08   NC  0x1A 0x17
                    0xFD  0x09 0x04 0x07  CTRL 0x16 0x0A
                    0xFB  0x19 0x1D 0x06 SHIFT 0x1B 0x05
                    0xF7  0x21 0x1E 0x20   NC  0x1F 0x22
                    0xEF  0x10 0x2c 0x36   NC  0x37 0x11
                    0xDF  0x24 0x27 0x25 0x2D  0x26 0x23
                    0xBF  0x18 0x13 0x0C 0x28  0x12 0x1C
                    0x7F  0x0d 0x33 0x0E 0x34  0x0F 0x0b

LSHIFT = 02 and is mapped to SHIFT
RSHIFT = 20 and is mapped to SHIFT
LCTRL = 01 and is mapped to CTRL
RCTRL = 10 and is mapped to CTRL

ARROW KEYS AND BACKSPACE / DELETE HANDLING (from vziosim_usb.ino)
================================================================

The VZ200 does not have dedicated arrow keys or a dedicated delete key. Instead, these are emulated
using CTRL + other keys. The Arduino firmware handles the following mappings:

PC KEYBOARD              VZ200 EQUIVALENT
left arrow (0x50)        CTRL + 'M'
right arrow (0x4F)       CTRL + ',' (comma)
up arrow (0x52)          CTRL + '.' (period)
down arrow (0x51)        CTRL + ' ' (space)
Delete key (0x4C)        CTRL + ';' (RUBOUT)
Backspace key (0x2A)     CTRL + 'M' (same as left arrow)

CTRL MANAGEMENT
When multiple arrow keys or delete are pressed simultaneously:
- The first arrow key or delete press activates CTRL
- Switching between different arrow keys keeps CTRL active
- CTRL is only released when ALL arrow keys AND delete are released
- This allows seamless arrow key combinations on VZ200

EXAMPLES
- Press left arrow: CTRL pressed, 'M' pressed
- Release left arrow, press right arrow: 'M' released, ',' pressed (CTRL stays active)
- Press delete while arrow active: ';' also pressed (CTRL already active)
- Release delete: ';' released, but CTRL stays active if arrow still held
- Release all arrows/delete: CTRL is finally released
